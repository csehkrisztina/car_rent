<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Car Rent</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/menu.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/css/users.css}" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script	src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>

<body>
    <div class="container-fluid menu">

        <form th:action="@{/logout}" method="get">
            <button class="btn btn-md logout-btn" type="Submit">Logout</button>
        </form>

        <form th:action="@{/user/all}" method="get">
            <button class="btn btn-md home-btn" type="Submit">Users</button>
        </form>

        <form th:action="@{/}" method="get">
            <button class="btn btn-md home-btn" type="Submit">Cars</button>
        </form>

        <form th:action="@{/}" method="get">
            <button class="btn btn-md home-btn" type="Submit">Home</button>
        </form>

        <span id="logo">Car Rent</span>

    </div>

    <div class="container">
        <span th:text="${message}"></span>
        <table id="users">
            <thead>
                <tr>
                    <td></td>
                    <td>E-mail</td>
                    <td>Role</td>
                    <td>Actions</td>
                </tr>
            </thead>
            <tbody>
                <tr th:each="user,iterator : ${users}">
                    <td th:text="${iterator.index}"></td>
                    <td th:text="${user.email}"></td>
                    <td th:text="${role}"></td>
                    <td>
                        <form th:action="@{/my-account}" method="get" class="action">
                            <input type="hidden" name="email" th:value="${user.email}"/>
                            <button class="btn btn-md edit-btn" type="Submit">Edit</button>
                        </form>

                        <form th:action="@{/admin/user/delete}" method="get" class="action">
                            <input type="hidden" name="email" th:value="${user.email}"/>
                            <button class="btn btn-md delete-btn" type="Submit">Delete</button>
                        </form>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</body>
</html>